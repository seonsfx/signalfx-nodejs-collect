(function() {
  var sumBusy, sumIdle, utilization;

  sumBusy = function(times) {
    var name, time;
    return ((function() {
      var _results;
      _results = [];
      for (name in times) {
        time = times[name];
        if (name !== 'idle') {
          _results.push(time);
        }
      }
      return _results;
    })()).reduce(function(a, b) {
      return a + b;
    });
  };

  sumIdle = function(times) {
    return times.idle;
  };

  utilization = function(initial, final) {
    var busy, idle, sum0, sum1, t0, t1;
    t0 = initial.times;
    t1 = final.times;
    sum0 = sumBusy(t0);
    sum1 = sumBusy(t1);
    busy = sumBusy(t1) - sumBusy(t0);
    idle = sumIdle(t1) - sumIdle(t0);
    return busy / (idle + busy);
  };

  utilization.sumBusy = sumBusy;

  utilization.sumIdle = sumIdle;

  module.exports = utilization;

}).call(this);
